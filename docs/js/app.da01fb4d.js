(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],f=0,d=[];f<o.length;f++)s=o[f],r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},r={app:0},n=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/fancy-camera/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"02df":function(t,e,i){},"034f":function(t,e,i){"use strict";var a=i("64a9"),r=i.n(a);r.a},"187c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},n=[],s={},o=s,c=(i("034f"),i("2877")),u=Object(c["a"])(o,r,n,!1,null,null,null),l=u.exports,f=(i("f5df"),i("2f62"));a["a"].use(f["a"]);var d=new f["a"].Store({strict:!0,state:{file:{blob:null},camera:{width:250,height:250}},getters:{cameraSize:function(t){return t.camera}},mutations:{uploadFile:function(t,e){t.file.blob=e},setWidth:function(t,e){t.camera.width=e},setHeight:function(t,e){t.camera.height=e}},actions:{uploadFile:function(t,e){t.commit("uploadFile",e)},setWidth:function(t,e){t.commit("setWidth",e)},setHeight:function(t,e){t.commit("setHeight",e)}}}),h=i("8c4f"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("Header"),i("Uploader")],1)},m=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"right"}},[i("h3",{staticStyle:{display:"inline-block",margin:"0 200px 0 0",padding:"10px 0"}},[t._v("No UI, not yet!")]),i("a",{attrs:{href:"https://github.com/mahmoudZakaria90/fancy-camera"}},[i("img",{staticClass:"attachment-full size-full",staticStyle:{position:"fixed",right:"0",top:"0"},attrs:{width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149",alt:"Fork me on GitHub","data-recalc-dims":"1"}})])])}],g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("h1",[t._v("Fancy Camera")]),i("p",[t._v("Upload files type: .JPEG, .PNG")])])}],b={},_=b,y=(i("7cf8"),Object(c["a"])(_,g,v,!1,null,"5c580bfd",null)),w=y.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{on:{submit:function(e){return e.preventDefault(),t.upload(e)}}},[i("input",{attrs:{type:"file",id:"uploader",hidden:"",accept:"image/*"},on:{change:t.viewFileName}}),i("label",{attrs:{for:"uploader"}},[i("span",[t._v("Choose file")]),i("span",[t._v(t._s(t.fileName))])]),i("button",{staticClass:"submit",attrs:{type:"submit"}},[t._v("Submit")])])},x=[],C=(i("7f7f"),i("768b")),$={data:function(){return{fileName:"No file."}},methods:{viewFileName:function(t){var e=t.target.files,i=Object(C["a"])(e,1),a=i[0],r=a.name;e.length&&(this.fileName=r)},upload:function(t){var e=Object(C["a"])(t.target,1),i=e[0],a=i.files,r=Object(C["a"])(a,1),n=r[0];a.length&&(this.$store.dispatch("uploadFile",URL.createObjectURL(n)),this.$router.push("/tool"))}}},j=$,O=(i("8f56"),Object(c["a"])(j,S,x,!1,null,"7fe13d4b",null)),z=O.exports,R={components:{Header:w,Uploader:z}},k=R,H=Object(c["a"])(k,p,m,!1,null,null,null),E=H.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{mousemove:t.setCameraCoords}},[i("Adjuster"),i("img",{ref:"img",attrs:{src:t.file,alt:"image"}}),i("Camera",{attrs:{coordLeft:t.coordLeft,coordTop:t.coordTop,img:t.img}})],1)},N=[],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"adjuster"},[i("label",[i("span",[t._v("Width:")]),i("input",{attrs:{disabled:t.isResult,type:"text"},domProps:{value:t.cameraSize.width},on:{input:t.setWidth}})]),i("label",[i("span",[t._v("Height:")]),i("input",{attrs:{disabled:t.isResult,type:"text"},domProps:{value:t.cameraSize.height},on:{input:t.setHeight}})]),i("span",[t._v("Min = 250, Max = Screen resolution")])])},T=[],F={data:function(){return{isResult:!1}},computed:{cameraSize:function(){return this.$store.getters.cameraSize}},methods:{setWidth:function(t){t.target.value>=this.cameraSize.width&&t.target.value<=window.innerWidth&&this.$store.dispatch("setWidth",t.target.value)},setHeight:function(t){t.target.value>=this.cameraSize.height&&t.target.value<=window.innerHeight&&this.$store.dispatch("setHeight",t.target.value)}},created:function(){var t=this;V.$on("isResult",function(e){return t.isResult=e})}},W=F,U=(i("ad8d"),Object(c["a"])(W,P,T,!1,null,"63c1d6fe",null)),I=U.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isResult?t._e():i("div",{ref:"camera",staticClass:"camera",style:Object.assign({},t.coords,{width:t.cameraSize.width+"px",height:t.cameraSize.height+"px"}),on:{click:t.capture}},[i("div",{staticClass:"camera-square"}),i("div",{staticClass:"camera-square"}),i("div",{staticClass:"camera-square"}),i("div",{staticClass:"camera-square"}),i("span",{staticClass:"camera-circle"})]),t.isResult?i("div",{staticClass:"result",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.resetIsResult(e)}}},[i("div",{staticClass:"result-header"},[i("span",[t._v("Here you go!")]),i("button",{staticClass:"dismiss",on:{click:t.resetIsResult}},[t._v("Ã—")])]),i("canvas",{ref:"result",attrs:{width:t.cameraSize.width,height:t.cameraSize.height}}),i("a",{attrs:{href:t.resultHref,download:""}},[t._v("Download")])]):t._e()])},q=[],D=(i("a481"),i("c5f6"),{props:["coordLeft","coordTop","img"],data:function(){return{camera:null,resultHref:null,isResult:!1}},created:function(){this.initSetup()},computed:{cameraSize:function(){return this.$store.getters.cameraSize},coords:function(){var t=this.cameraSize.width/2,e=this.cameraSize.height/2;return{top:this.coordTop-e+"px",left:this.coordLeft-t+"px"}}},mounted:function(){this.$refs.camera&&(this.camera=this.$refs.camera)},updated:function(){if(this.$refs.result){var t=this.$refs.result,e=t.getContext("2d"),i=54,a=Number(this.coords.left.replace("px","")),r=Number(this.coords.top.replace("px",""))-i;e.drawImage(this.img,a,r,this.cameraSize.width,this.cameraSize.height,0,0,this.cameraSize.width,this.cameraSize.height),this.resultHref=t.toDataURL()}V.$emit("isResult",this.isResult)},methods:{initSetup:function(){var t=this;document.addEventListener("keyup",function(e){"Escape"===e.key&&27===e.keyCode&&t.resetIsResult()})},resetIsResult:function(){this.isResult=!1},capture:function(){var t=this.img.getBoundingClientRect(),e=t.top,i=t.bottom,a=t.left,r=t.right,n=this.camera.getBoundingClientRect(),s=n.top,o=n.bottom,c=n.left,u=n.right;c>=a&&u<=r&&s>=e&&o<=i&&(this.isResult=!0)}}}),G=D,J=(i("d111"),Object(c["a"])(G,M,q,!1,null,"88ebc9b2",null)),A=J.exports,B={data:function(){return{coordLeft:0,coordTop:0,img:null}},components:{Adjuster:I,Camera:A},computed:{file:function(){return this.$store.state.file.blob}},created:function(){this.file||this.$router.push("/")},mounted:function(){this.$refs.img&&(this.img=this.$refs.img)},methods:{setCameraCoords:function(t){this.coordLeft=t.pageX,this.coordTop=t.pageY}}},X=B,Y=Object(c["a"])(X,L,N,!1,null,"50c67114",null),Z=Y.exports;a["a"].use(h["a"]);var K=[{path:"/",name:"dashboard",component:E},{path:"/tool",name:"tool",component:Z}],Q=new h["a"]({mode:"hash",base:"/fancy-camera/",routes:K});i.d(e,"bus",function(){return V}),a["a"].config.productionTip=!1;var V=new a["a"];new a["a"]({store:d,router:Q,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,e,i){},"7cf8":function(t,e,i){"use strict";var a=i("927d"),r=i.n(a);r.a},8307:function(t,e,i){},"8f56":function(t,e,i){"use strict";var a=i("187c"),r=i.n(a);r.a},"927d":function(t,e,i){},ad8d:function(t,e,i){"use strict";var a=i("02df"),r=i.n(a);r.a},d111:function(t,e,i){"use strict";var a=i("8307"),r=i.n(a);r.a}});
//# sourceMappingURL=app.da01fb4d.js.map